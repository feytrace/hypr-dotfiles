##################################
# VARIABLES
##################################
$mainMod = SUPER
$terminal = kitty
$menu = quickshell -p $HOME/.config/quickshell/launcher.qml 
$screenshot = $HOME/.config/scripts/display/screenshot.sh 
$modefile = $HOME/.cache/hypr_mode
$set_submap = $HOME/.config/hypr/set_submap.sh

##################################
# INSERT MODE (default [reset])
##################################
submap = reset

binde = $mainMod, Q, exec, $terminal
binde = $mainMod, W, exec, $menu

bind  = $mainMod, C, killactive
bind  = $mainMod, M, exit

bind = $mainMod, L, movefocus, r
bind = $mainMod, H, movefocus, l
bind = $mainMod, K, movefocus, u
bind = $mainMod, J, movefocus, d

bind = ALT, E, exec, $set_submap movement
bind = ALT, R, exec, $set_submap resize
bind = ALT, U, exec, $set_submap system

#################################
# MOVEMENT MODE
##################################
submap = movement

bind = , L, movefocus, r
bind = , H, movefocus, l
bind = , K, movefocus, u
bind = , J, movefocus, d

bind = SHIFT, L, movewindow, r
bind = SHIFT, H, movewindow, l
bind = SHIFT, K, movewindow, u
bind = SHIFT, J, movewindow, d

bind = , 1, workspace, 1
bind = , 2, workspace, 2
bind = , 3, workspace, 3
bind = , 4, workspace, 4
bind = , 5, workspace, 5
bind = , 6, workspace, 6

bind = SHIFT, 1, movetoworkspace, 1
bind = SHIFT, 2, movetoworkspace, 2
bind = SHIFT, 3, movetoworkspace, 3
bind = SHIFT, 4, movetoworkspace, 4
bind = SHIFT, 5, movetoworkspace, 5
bind = SHIFT, 6, movetoworkspace, 6

bind = , F, exec, hyprctl dispatch fullscreen
bind = , M, exec, hyprctl dispatch togglefloating
bind = , T, exec, hyprctl dispatch togglesplit

# Keep killactive consistent
bind = $mainMod, C, killactive

bind = , Escape, exec, $set_submap reset

##################################
# RESIZE MODE
##################################
submap = resize

bind = , L, resizeactive, 10 0
bind = , H, resizeactive, -10 0
bind = , K, resizeactive, 0 -10
bind = , J, resizeactive, 0 10

bind = , Escape, exec, $set_submap reset

##################################
# SYSTEM MODE
##################################
submap = system

bind = , {, exec, pamixer -i 5
bind = , }, exec, pamixer -d 5
bind = SHIFT, M, exec, pamixer -t

bind = , K, exec, brightnessctl set +5%
bind = , J, exec, brightnessctl set 5%-

bind = , P, exec, $screenshot
bind = SHIFT, P, exec, $screenshot -s

# Safe reboot/poweroff
bind = $mainMod SHIFT, R, exec, systemctl reboot
bind = $mainMod SHIFT, P, exec, systemctl poweroff

bind = , Escape, exec, $set_submap reset

